name: Borsa Bot - Gunluk Analiz

on:
schedule:
- cron: ‘0 6 * * 1-5’
workflow_dispatch:

jobs:
run-analysis:
runs-on: ubuntu-latest

```
steps:
  - name: Kodu Indir
    uses: actions/checkout@v4
  
  - name: Python 3.11 Kur
    uses: actions/setup-python@v5
    with:
      python-version: '3.11'
      cache: 'pip'
  
  - name: Paketleri Kur
    run: |
      pip install --upgrade pip
      pip install -r requirements.txt
  
  - name: Botu Calistir
    env:
      NEWS_API_KEY: ${{ secrets.NEWS_API_KEY }}
      SENDGRID_API_KEY: ${{ secrets.SENDGRID_API_KEY }}
      MAIL_SENDER: ${{ secrets.MAIL_SENDER }}
      MAIL_RECIPIENT: ${{ secrets.MAIL_RECIPIENT }}
    run: |
      python main_bot.py --mode run
  
  - name: Grafikleri Sakla
    if: always()
    uses: actions/upload-artifact@v4
    with:
      name: analysis-charts
      path: charts/*.png
      retention-days: 7
```
